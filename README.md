# secure-connection

Для лінукс ситеми

## З'єднання через ssh-keys
### Відкриваємо комп'ютер з якого хочемо заходити на сервер
Спершу отримуємо права root
```
sudo su
```

Тепер ми повинні згенерувати публічний і приватнний ключі. Це можна зробити такою командою

```
ssh-keygen
```
Тебе запитає в якій дерикторії ти хочеш зберегти його. Натискаємо Enter і зберігаємо по замовчуванню (/root/.ssh/id_rs)

Далі якщо ти перший раз створюєш ключі, тобі запропонує зразу створити парольнуфразу її можна проігнорувати просто натиснувши Enter, але вона може вам колись і знадобитися

![Знімок екрану з 2022-07-08 11-59-19](https://user-images.githubusercontent.com/102728347/177958332-2f60fcd5-1b6d-429e-ad3b-ebfd663c02c6.png)

Якщо у вас вже були створені ключі ви побачите це(якщо ви виберете `yes` то вже попередні ключі не можна буде вернути тому будьте з цим обережні)

![Знімок екрану з 2022-07-08 11-58-12](https://user-images.githubusercontent.com/102728347/177958366-d9e889f3-b02d-4aa8-831e-50e4d8d5e796.png)

Якщо ви створили успіно ключ ось що ви побачите наступне

![Знімок екрану з 2022-07-08 12-10-29](https://user-images.githubusercontent.com/102728347/177959007-db31147b-73d4-480c-8336-a5ff458297ce.png)


Переходимо до деректорії `~/.ssh`. Там будуть знаходитись такі файли `id_rsa` і `id_rsa.pub`
```
cd .ssh/ && ls
```

![Знімок екрану з 2022-07-08 12-17-13](https://user-images.githubusercontent.com/102728347/177960302-3ad85429-e735-4304-967a-8335a9dd1481.png)

Виводимо на екран все що знаходиться в файлі `id-rsa.pub`
```
cat ~/.ssh/id_rsa.pub
```
Публічнний ключ буде починатися на ssh-rsa AAAA... 

### Працюємо з сервером

Для цього:
* Заходимо на сервер
 ```
 ssh user@ip
 ```
 
* Переходимо в дерикторію `~/.ssh`
```
mkdir -p ~/.ssh/ && cd ~/.ssh 
```

* Записуємо публічний ключ в файл `authorized_keys`, якщо файла немає створіть його командою `touch authorized_keys`(Замість pubkey вводимо наш ключ який ми виверли на екран на компютері)
```
echo pubkey >> ~/.ssh/authorized_keys
```

Вітаю!!!
Тепер ми можемо підключитися з нашого компютера до нашого сервера не водячи паролю
